/*!
 * solution-center-header
 * https://github.com/zalando/solution-center-header
 * License: MIT
 */
"use strict";angular.module("solutionCenter",[]).directive("solutionCenterHeader",["$templateCache",function(e){return{scope:{brand:"=",user:"=",modules:"=",logout:"&",solutionCenterUrl:"@"},restrict:"E",template:e.get("solution-center-header.html"),controller:"SolutionCenterHeaderController",controllerAs:"headerCtrl",bindToController:!0}}]),angular.module("solutionCenter").directive("clickOutside",["$parse","$document",function(e,n){return{link:function(e,i,a){function l(n){i[0].contains(n.target)||i[0]===n.target||e.$apply(a.clickOutside)}function t(){n.bind("click",l),n.bind("touchstart",l)}function s(){n.unbind("click",l),n.unbind("touchstart",l)}t(),e.$on("$destroy",function(){s()})}}}]),angular.module("solutionCenter").controller("SolutionCenterHeaderController",["$scope","$window",function(e,n){var i=this;i.SOLUTION_CENTER_URL=i.solutionCenterUrl||"https://www.solutions.zalando.com/#/",i.HELP_PRODUCT_GENERAL="General",i.brandSwitcherVisible=!1,i.userMenuVisible=!1,i.modulesMenuVisible=!1,i.helpWidgetVisible=!1,i.helpWidgetLoaded=!1,i.username=i.user.firstName&&i.user.lastName?i.user.firstName+" "+i.user.lastName:i.user.name,i.toggleMenu=function(e){"brand"===e?(i.brandSwitcherVisible=!i.brandSwitcherVisible,i.userMenuVisible=!1,i.modulesMenuVisible=!1):"user"===e?(i.userMenuVisible=!i.userMenuVisible,i.brandSwitcherVisible=!1,i.modulesMenuVisible=!1):"modules"===e&&(i.modulesMenuVisible=!i.modulesMenuVisible,i.userMenuVisible=!1,i.brandSwitcherVisible=!1)},i.goToPage=function(e){i.brandSwitcherVisible=i.userMenuVisible=i.modulesMenuVisible=!1,n.location.href=e};var a=function(e){var n=window._nRepData||[];n.kb="70732382",n.customParams={product:l(e)},n.embed={account:"zalandobrands",container:"nanoRepEmbedContainer",width:400,maxHeight:500,dynamicSize:!0,cdcFrame:"",cdcVersion:3,scriptVersion:"2.74.7.3"},function(){var e=function(){var e=window._nRepData||[];e.windowLoaded=!0,"function"==typeof e.windowOnload&&e.windowOnload()};window.attachEvent?window.attachEvent("onload",e):window.addEventListener&&window.addEventListener("load",e,!1);var n=document.createElement("script");n.type="text/javascript",n.async=!0,n.defer=!0,n.src=("https:"==document.location.protocol?"https://":"http://")+"my.nanorep.com/widget/scripts/embed.js?account=zalandobrands";var i=document.getElementsByTagName("head")[0];i.appendChild(n)}(),window._nRepData=n,i.helpWidgetLoaded=!0},l=function(e){var n=[i.HELP_PRODUCT_GENERAL];return angular.forEach(e,function(e){e.name&&n.push(e.name)}),n};i.modules?e.$watch(function(){return i.modules},function(){i.modules&&i.modules.length>0&&!i.helpWidgetLoaded&&a(i.modules)}):a()}]),angular.module("solutionCenter").run(["$templateCache",function(e){e.put("solution-center-header.html",'<header class="solution-center-header" click-outside="headerCtrl.modulesMenuVisible=false; headerCtrl.brandSwitcherVisible=false; headerCtrl.userMenuVisible=false"><div class="logo-container"><img src="https://s3-eu-west-1.amazonaws.com/cdn.solutions.zalando.com/zalando-icons/logo.svg" alt="Logo" class="logo logo--large"> <img src="https://s3-eu-west-1.amazonaws.com/cdn.solutions.zalando.com/zalando-icons/logo--no-text.svg" alt="Logo" class="logo logo--small"></div><div class="menu-toggle" ng-click="headerCtrl.toggleMenu(\'modules\')" ng-if="headerCtrl.modules"><i class="dc-icon dc-icon--menu dc-icon--interactive"></i></div><nav class="navigation navigation--global navigation--sub navigation--left" ng-class="{\'shown-mobile\': headerCtrl.modulesMenuVisible}"><ul class="menu"><li class="menu__item" ng-repeat="module in headerCtrl.modules"><a href="" ng-click="headerCtrl.goToPage(module.url)" class="menu__link">{{module.name}}</a></li></ul></nav><a href="" ng-click="headerCtrl.toggleMenu(\'brand\')" class="brand-switcher" title="Switch Brand"><span class="brand-switcher__brand-name">{{headerCtrl.brand.name}}</span></a><nav class="navigation navigation--sub navigation--right" ng-show="headerCtrl.brandSwitcherVisible" ng-class="{shown: headerCtrl.brandSwitcherVisible}"><ul class="menu"><li class="menu__item"><a href="" ng-click="headerCtrl.goToPage(headerCtrl.SOLUTION_CENTER_URL + \'brands/\' + headerCtrl.brand.id)" class="menu__link">{{headerCtrl.brand.name}} Account</a></li><li class="menu__item"><a href="" ng-click="headerCtrl.goToPage(headerCtrl.SOLUTION_CENTER_URL + \'brands\')" class="menu__link">Switch Brand</a></li></ul></nav><div class="toggle" ng-click="headerCtrl.toggleMenu(\'user\')" ng-if="headerCtrl.username" title="User Account"><span class="user-name">{{headerCtrl.username}}</span> <i class="dc-icon dc-icon--user dc-icon--interactive"></i></div><nav class="navigation navigation--sub navigation--right" ng-show="headerCtrl.userMenuVisible" ng-class="{shown: headerCtrl.userMenuVisible}"><ul class="menu"><li class="menu__item"><a href="" ng-click="headerCtrl.goToPage(headerCtrl.SOLUTION_CENTER_URL + \'terms\')" class="menu__link">Terms & Conditions</a></li><li class="menu__item"><a href="" ng-click="headerCtrl.goToPage(headerCtrl.SOLUTION_CENTER_URL + \'account\')" class="menu__link">My Account</a></li><li class="menu__item"><a href="" ng-click="headerCtrl.logout()" class="menu__link">Logout</a></li></ul></nav><div class="dc-btn-dropdown" data-click-outside="headerCtrl.helpWidgetVisible=false" ng-show="headerCtrl.helpWidgetLoaded"><div href="" class="toggle" ng-click="headerCtrl.helpWidgetVisible=!headerCtrl.helpWidgetVisible"><i class="dc-icon dc-icon--help dc-icon--interactive"></i></div><div aria-live="polite" id="nanoRepEmbedContainer" class="dc-btn-dropdown__list dc-btn-dropdown__list--down help-widget" ng-class="{ \'visible\': headerCtrl.helpWidgetVisible }"><i class="dc-icon dc-icon--close dc-icon--interactive" ng-click="headerCtrl.helpWidgetVisible=false"></i></div></div></header>')}]);