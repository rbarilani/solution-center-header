/*!
 * solution-center-header
 * https://github.com/zalando/solution-center-header
 * License: MIT
 */
"use strict";angular.module("solutionCenter",[]).directive("solutionCenterHeader",["$templateCache",function(e){return{scope:{brand:"=",user:"=",modules:"=",logout:"&",solutionCenterUrl:"<?"},restrict:"E",template:e.get("solution-center-header.html"),controller:"SolutionCenterHeaderController",controllerAs:"headerCtrl",bindToController:!0}}]),angular.module("solutionCenter").directive("clickOutside",["$parse","$document",function(e,n){return{link:function(e,i,l){function a(n){i[0].contains(n.target)||i[0]===n.target||e.$apply(l.clickOutside)}function t(){n.bind("click",a),n.bind("touchstart",a)}function o(){n.unbind("click",a),n.unbind("touchstart",a)}t(),e.$on("$destroy",function(){o()})}}}]),angular.module("solutionCenter").controller("SolutionCenterHeaderController",["$scope","$window","$attrs",function(e,n,i){var l=this;l.solutionCenterUrl=l.solutionCenterUrl||"https://www.solutions.zalando.com/#/",l.HELP_PRODUCT_GENERAL="General",l.brandSwitcherVisible=!1,l.userMenuVisible=!1,l.modulesMenuVisible=!1,l.helpWidgetVisible=!1,l.helpWidgetLoaded=!1,l.username=l.user.firstName&&l.user.lastName?l.user.firstName+" "+l.user.lastName:l.user.name,l.toggleMenu=function(e){"brand"===e?(l.brandSwitcherVisible=!l.brandSwitcherVisible,l.userMenuVisible=!1,l.modulesMenuVisible=!1):"user"===e?(l.userMenuVisible=!l.userMenuVisible,l.brandSwitcherVisible=!1,l.modulesMenuVisible=!1):"modules"===e&&(l.modulesMenuVisible=!l.modulesMenuVisible,l.userMenuVisible=!1,l.brandSwitcherVisible=!1)},l.goToPage=function(e){e&&(l.brandSwitcherVisible=l.userMenuVisible=l.modulesMenuVisible=!1,n.location.href=e)};var a=function(e){var n=window._nRepData||[];n.kb="70732382",n.customParams={product:t(e)},n.embed={account:"zalandobrands",container:"nanoRepEmbedContainer",width:400,maxHeight:500,dynamicSize:!0,cdcFrame:"",cdcVersion:3,scriptVersion:"2.74.7.3"},function(){var e=function(){var e=window._nRepData||[];e.windowLoaded=!0,"function"==typeof e.windowOnload&&e.windowOnload()};window.attachEvent?window.attachEvent("onload",e):window.addEventListener&&window.addEventListener("load",e,!1);var n=document.createElement("script");n.type="text/javascript",n.async=!0,n.defer=!0,n.src=("https:"==document.location.protocol?"https://":"http://")+"my.nanorep.com/widget/scripts/embed.js?account=zalandobrands";var i=document.getElementsByTagName("head")[0];i.appendChild(n)}(),window._nRepData=n,l.helpWidgetLoaded=!0},t=function(e){var n=[l.HELP_PRODUCT_GENERAL];return angular.forEach(e,function(e){e.name&&n.push(e.name)}),n};i.modules?e.$watchCollection(function(){return l.modules},function(){l.modules&&l.modules.length>0&&!l.helpWidgetLoaded&&a(l.modules)}):a()}]),angular.module("solutionCenter").run(["$templateCache",function(e){e.put("solution-center-header.html",'<header class="solution-center-header" click-outside="headerCtrl.modulesMenuVisible=false; headerCtrl.brandSwitcherVisible=false; headerCtrl.userMenuVisible=false"><div class="logo-container" ng-click="headerCtrl.goToPage(headerCtrl.solutionCenterUrl)"><img src="https://s3-eu-west-1.amazonaws.com/cdn.solutions.zalando.com/zalando-icons/logo.svg" alt="Logo" class="logo logo--large logo--clickable"> <img src="https://s3-eu-west-1.amazonaws.com/cdn.solutions.zalando.com/zalando-icons/logo--no-text.svg" alt="Logo" class="logo logo--small logo--clickable"></div><div class="menu-toggle" ng-click="headerCtrl.toggleMenu(\'modules\')" ng-if="headerCtrl.modules"><i class="dc-icon dc-icon--menu dc-icon--interactive"></i></div><nav class="navigation navigation--global navigation--sub navigation--left" ng-class="{\'shown-mobile\': headerCtrl.modulesMenuVisible}"><ul class="menu"><li class="menu__item" ng-repeat="module in headerCtrl.modules"><a href="" ng-click="headerCtrl.goToPage(module.url)" class="menu__link">{{module.name}}</a></li></ul></nav><a href="" ng-click="headerCtrl.toggleMenu(\'brand\')" class="brand-switcher" title="Switch Brand"><span class="brand-switcher__brand-name">{{headerCtrl.brand.name}}</span></a><nav class="navigation navigation--sub navigation--right" ng-show="headerCtrl.brandSwitcherVisible" ng-class="{shown: headerCtrl.brandSwitcherVisible}"><ul class="menu"><li class="menu__item"><a href="" ng-click="headerCtrl.goToPage(headerCtrl.solutionCenterUrl + \'brands/\' + headerCtrl.brand.id)" class="menu__link">{{headerCtrl.brand.name}} Account</a></li><li class="menu__item"><a href="" ng-click="headerCtrl.goToPage(headerCtrl.solutionCenterUrl + \'brands\')" class="menu__link">Switch Brand</a></li></ul></nav><div class="toggle" ng-click="headerCtrl.toggleMenu(\'user\')" ng-if="headerCtrl.username" title="User Account"><span class="user-name">{{headerCtrl.username}}</span> <i class="dc-icon dc-icon--user dc-icon--interactive"></i></div><nav class="navigation navigation--sub navigation--right" ng-show="headerCtrl.userMenuVisible" ng-class="{shown: headerCtrl.userMenuVisible}"><ul class="menu"><li class="menu__item"><a href="" ng-click="headerCtrl.goToPage(headerCtrl.solutionCenterUrl + \'terms\')" class="menu__link">Terms & Conditions</a></li><li class="menu__item"><a href="" ng-click="headerCtrl.goToPage(headerCtrl.solutionCenterUrl + \'account\')" class="menu__link">My Account</a></li><li class="menu__item"><a href="" ng-click="headerCtrl.logout()" class="menu__link">Logout</a></li></ul></nav><div class="dc-btn-dropdown" data-click-outside="headerCtrl.helpWidgetVisible=false" ng-show="headerCtrl.helpWidgetLoaded"><div href="" class="toggle" ng-click="headerCtrl.helpWidgetVisible=!headerCtrl.helpWidgetVisible"><i class="dc-icon dc-icon--help dc-icon--interactive"></i></div><div aria-live="polite" id="nanoRepEmbedContainer" class="dc-btn-dropdown__list dc-btn-dropdown__list--down help-widget" ng-class="{ \'visible\': headerCtrl.helpWidgetVisible }"><i class="dc-icon dc-icon--close dc-icon--interactive" ng-click="headerCtrl.helpWidgetVisible=false"></i></div></div></header>')}]);